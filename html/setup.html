<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>SourceForm Setup</title>
	<!-- Load common functions -->
	<script src="../utils/common.js"></script>
	<link rel="stylesheet" type="text/css" href="../css/disable-text-selection.css">
</head>

<body>
	<h1>SourceForm Setup</h1>
	<h2>Step 1: Enable AHK Script</h2>
	<p>The AHK (AutoHotKey) script is used to disable some system-wide keyboard
		shortcuts that allows the end user to switch to a different program or to
		quit the SourceForm front end.</p>
	<div id="ahk-installation-status">
		<button id="start-ahk-button">Start AHK Script</button>
		<button id="stop-ahk-button" disabled="true">Stop AHK Script</button>
		<p id="ahk-installation-status-warning"></p>
	</div>
	<h2>Step 2: Confirm Settings</h2>
	<p>IMPORTANT NOTE: Changing settings in this section will not affect the step of a job that is currently being worked on. For example, if a model is being requested and images of the model are being downloaded, changing the setting for the 'number of images to be downloaded per model' will have no effect. Instead, it will affect subsequent models.</p>
	<div id="flickrkey-selector">
		<span>Flickr Key: </span>
		<span id="flickrkey-current"></span>
		<input type="text" id="flickrkey-input" style="display: none; width: 34ch; font-family: monospace;" />
		<button id="flickrkey-button">Change</button>
		<button id="flickrkey-button-confirm" style="display: none;">Confirm</button>
		<span style="display: inline-block; width: 50px;">&nbsp;</span>
		<button id="flickrkey-button-reset">Reset to Default</button>
	</div>
	<div id="flickrsecret-selector">
		<span>Flickr Secret: </span>
		<span id="flickrsecret-current"></span>
		<input type="text" id="flickrsecret-input" style="display: none; width: 18ch; font-family: monospace;" />
		<button id="flickrsecret-button">Change</button>
		<button id="flickrsecret-button-confirm" style="display: none;">Confirm</button>
		<span style="display: inline-block; width: 50px;">&nbsp;</span>
		<button id="flickrsecret-button-reset">Reset to Default</button>
	</div>
	<div id="imagepath-selector">
		<span>Current imagePath: </span>
		<span id="imagepath-current"></span>
		<button id="imagepath-button">Change</button>
	</div>
	<div id="ply2stl-selector">
		<span>Path to PLY-to-STL script: </span>
		<span id="ply2stl-current"></span>
		<button id="ply2stl-button">Change</button>
	</div>
	<div id="stl2bmp-selector">
		<span>Path to STL-to-BMP script: </span>
		<span id="stl2bmp-current"></span>
		<button id="stl2bmp-button">Change</button>
	</div>
	<div id="printerscript-selector">
		<span>Path to printer script: </span>
		<span id="printerscript-current"></span>
		<button id="printerscript-button">Change</button>
	</div>
	<div id="numofimgs-selector">
		<span>Number of images to be downloaded per model: </span>
		<span id="numofimgs-current"></span>
		<input type="text" id="numofimgs-input" style="display: none;" />
		<button id="numofimgs-button">Change</button>
		<button id="numofimgs-button-confirm" style="display: none;">Confirm</button>
	</div>
	<div id="remoteip-selector">
		<span>Current remote IP: </span>
		<span id="remoteip-current"></span>
		<input type="text" id="remoteip-input" style="display: none;" />
		<button id="remoteip-button">Change</button>
		<button id="remoteip-button-confirm" style="display: none;">Confirm</button>
		<p id="remoteip-warning" style="display: none;">Not a valid IP address.</p>
	</div>
	<div>
		<button onclick="require('electron').remote.getCurrentWindow().toggleDevTools();">DevTools</button>
		<button onclick="window.history.back();">Back</button>
	</div>
	<script>
		require("../js/setup.js")

		function onCheckboxChange() {
			var checkbox = document.getElementById('confirm-sourceform-config')
			var button = document.getElementById('start-sourceform-button')

			if (checkbox.checked == true) {
				button.disabled = false
			} else {
				button.disabled = true
			}
		}
	</script>
</body>

</html>