<!DOCTYPE html>
<html>

  <head>
    <meta charset="UTF-8">
    <title>SourceForm Setup</title>
  </head>

  <body>
    <h1>SourceForm Setup</h1>
    <h2>Step 1: Enable AHK Script</h2>
    <p>The AHK (AutoHotKey) script is used to disable some system-wide keyboard shortcuts that allows the end user to switch to a different program or to quit the SourceForm front end.</p>
    <div id="ahk-installation-status">
      <button id="start-ahk-button">Start AHK Script</button>
      <button id="stop-ahk-button" disabled="true">Stop AHK Script</button>
      <p id="ahk-installation-status-warning"></p>
    </div>
    <h2>Step 2: Identify Screens</h2>
    <p>Select which screen this window is being displayed.</p>
    <div id="screen-selector">
      <button id="top-button" disabled="true">Top</button>
      <button id="bottom-button" disabled="true">Bottom</button>
      <p id="screen-selector-warning"></p>
    </div>
    
    <div id="step3">
      <h2>Finally: Start SourceForm</h2>
      <button id="start-sourceform-button" disabled="true">Start SourceForm</button>
      <span style="display: inline-block; width: 20px;"></span>
      <button onclick="const remote = require('electron').remote; let w = remote.getCurrentWindow(); w.close();">Quit</button>
    </div>
    <script>
      require("../js/setup.js")

      const { ipcRenderer } = require('electron');
      const startahkbtn = document.getElementById('start-ahk-button');
      const stopahkbtn = document.getElementById('stop-ahk-button');
      const topbtn = document.getElementById('top-button');
      const btmbtn = document.getElementById('bottom-button');
      const startsourceformbtn = document.getElementById('start-sourceform-button');
      startahkbtn.addEventListener('click', () => {
        ipcRenderer.send('setup-start-ahk-button-clicked')
      });
      stopahkbtn.addEventListener('click', () => {
        ipcRenderer.send('setup-stop-ahk-button-clicked')
      });
      topbtn.addEventListener('click', () => {
        ipcRenderer.send('setup-top-button-clicked')
      });
      btmbtn.addEventListener('click', () => {
        ipcRenderer.send('setup-bottom-button-clicked')
      });
      startsourceformbtn.addEventListener('click', () => {
        ipcRenderer.send('setup-start-sourceform-button-clicked')
      });
    </script>
  </body>

</html>